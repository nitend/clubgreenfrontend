{"ast":null,"code":"var _jsxFileName = \"/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/admin/AdminPage.tsx\";\nimport React, { useState } from 'react';\nimport { useTeaserPropertiesQuery, useSavePropertyMutation } from '../../generated/graphql';\nimport { PropertyForm } from './PropertyForm';\nimport { LoadingAnimation } from '../elements/LoadingAnimation';\nimport { ErrorView } from '../elements/ErrorView';\nimport { SectionContainer, BasicContentBox } from '../StyledComponents';\nimport { Button } from '@material-ui/core';\nexport const AdminPage = () => {\n  var initProp = {\n    beds_adult: 0,\n    beds_kids: 0,\n    beds_tent: 0,\n    title: \"\",\n    id: 0,\n    images: [],\n    lat: 0.0,\n    location: \"\",\n    long: 0.0,\n    subtext: \"\"\n  };\n  const [newProp, setNewProp] = useState(false);\n  const [selectedProp, setSelectedProp] = useState();\n  const {\n    data,\n    loading,\n    error\n  } = useTeaserPropertiesQuery();\n  const [saveProperty] = useSavePropertyMutation();\n\n  if (!selectedProp) {\n    setNewProp(true);\n    setSelectedProp(initProp);\n  }\n\n  function propSelected(prop) {\n    setNewProp(false);\n    setSelectedProp(prop);\n    console.log(newProp);\n  }\n\n  if (loading) {\n    return React.createElement(LoadingAnimation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n  if (error) {\n    return React.createElement(ErrorView, {\n      error: error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    });\n  }\n\n  const getForm = () => {\n    return React.createElement(PropertyForm, {\n      property: selectedProp,\n      onSubmit: onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    });\n  };\n\n  async function onSubmit(values) {\n    console.log(values);\n    var val = {\n      beds_adult: values.beds_adult,\n      beds_kids: values.beds_kids,\n      beds_tent: values.beds_tent,\n      title: values.title,\n      id: values.id,\n      images: values.images,\n      lat: values.lat,\n      location: values.location,\n      long: values.long,\n      subtext: values.subtext\n    };\n    var result = await saveProperty({\n      variables: {\n        property: val\n      }\n    });\n    console.log(result);\n  }\n\n  if (data && data.teaserProperties) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, JSON.stringify(selectedProp), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, data === null || data === void 0 ? void 0 : data.teaserProperties.map(x => {\n      return React.createElement(\"li\", {\n        key: x.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" \", x.id, \", \", x.title, \", \", x.location, React.createElement(Button, {\n        onClick: () => {\n          propSelected(x);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"ausw\\xE4hlen\"));\n    })), React.createElement(SectionContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(BasicContentBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, getForm)));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"asdf\");\n  /*\n  const {data} = useAllBookingQuery()\n   return (<div>\n  \n      <div>Bookings</div>\n   </div>)\n  */\n};","map":{"version":3,"sources":["/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/admin/AdminPage.tsx"],"names":["React","useState","useTeaserPropertiesQuery","useSavePropertyMutation","PropertyForm","LoadingAnimation","ErrorView","SectionContainer","BasicContentBox","Button","AdminPage","initProp","beds_adult","beds_kids","beds_tent","title","id","images","lat","location","long","subtext","newProp","setNewProp","selectedProp","setSelectedProp","data","loading","error","saveProperty","propSelected","prop","console","log","getForm","onSubmit","values","val","result","variables","property","teaserProperties","JSON","stringify","map","x"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useTeaserPropertiesQuery, PropObject, useSavePropertyMutation } from '../../generated/graphql'\nimport { PropertyForm } from './PropertyForm';\nimport { LoadingAnimation } from '../elements/LoadingAnimation';\nimport { ErrorView } from '../elements/ErrorView';\nimport { SectionContainer, BasicContentBox } from '../StyledComponents';\nimport { Button } from '@material-ui/core';\n\ninterface Props {\n    \n}\n\nexport const AdminPage: React.FC<Props> = () => {\n\n    var initProp: PropObject = { beds_adult: 0,\n        beds_kids: 0,\n        beds_tent: 0,\n        title: \"\",\n        id: 0,\n        images: [],\n        lat: 0.0,\n        location: \"\",\n        long: 0.0,\n        subtext: \"\"\n        }\n\n    const [newProp, setNewProp] = useState(false);\n    const [selectedProp, setSelectedProp] = useState();\n    const {data, loading, error} = useTeaserPropertiesQuery();\n    const [saveProperty] = useSavePropertyMutation();\n\n    if(!selectedProp){\n        setNewProp(true)\n        setSelectedProp(initProp)\n    }\n\n    function propSelected (prop: PropObject) {\n        setNewProp(false)\n        setSelectedProp(prop)\n        console.log(newProp)\n    }\n\n    if(loading){\n        return (\n            <LoadingAnimation />\n        )\n    }\n\n    if(error){\n        return (\n            <ErrorView error={error}/>\n        )\n    }\n\n    const getForm = () => {\n        return <PropertyForm property={selectedProp} onSubmit={onSubmit}/>\n    }\n\n    async function onSubmit(values: PropObject) {\n        console.log(values)\n\n        var val: PropObject = { beds_adult: values.beds_adult,\n        beds_kids: values.beds_kids,\n        beds_tent: values.beds_tent,\n        title: values.title,\n        id: values.id,\n        images: values.images,\n        lat: values.lat,\n        location: values.location,\n        long: values.long,\n        subtext: values.subtext\n        }\n        var result = await saveProperty({\n            variables: {\n                property: val\n            }\n        });\n        console.log(result)\n    }\n\n    if(data && data.teaserProperties){\n        return(\n            <div>\n                {JSON.stringify(selectedProp)}\n                <ul>\n                {data?.teaserProperties.map(x => {\n                return <li key={x.id}> {x.id}, {x.title}, {x.location} \n                    <Button onClick={() => {propSelected(x)}}>ausw√§hlen</Button></li> })\n                }\n                </ul> \n                <SectionContainer>\n                    <BasicContentBox>\n                        {getForm}  \n                    </BasicContentBox> \n                </SectionContainer>              \n            </div>\n        )\n\n    }\n\n    return(\n        <div>asdf</div>\n    )\n\n\n    /*\n    const {data} = useAllBookingQuery()\n\n    return (<div>\n    \n        <div>Bookings</div>\n\n    </div>)\n    */\n\n}"]},"metadata":{},"sourceType":"module"}