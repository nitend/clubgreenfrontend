{"ast":null,"code":"import React,{useContext}from\"react\";import{CheckoutContext}from\"../../context/checkoutcontext/CheckoutContext\";import{CheckOutFlow}from\"./CheckOutFlow\";import{CheckoutSummary}from\"../checkoutsummary/CheckoutSummary\";import{Payment}from\"../../components/paymentformcard/Payment\";import{AddressEditor}from\"../addresseditor\";import{CheckoutStepContext}from\"../../context/checkoutcontext/CheckoutStepContext\";import{useGetProductQuery}from\"../../generated/graphql\";import{ErrorMessage}from\"../../pages/pageframe/global/Messages/ErrorMessage\";export var CheckOutContainer=function CheckOutContainer(props){var _useContext=useContext(CheckoutStepContext),step=_useContext.step,setstep=_useContext.setstep;var _useContext2=useContext(CheckoutContext),setProduct=_useContext2.setProduct;var productId=props.productId;var product=useGetProductQuery({variables:{id:productId?productId:\"\"}});if(productId&&product&&product.data&&product.data.getProduct){setProduct(product.data.getProduct);}else{return React.createElement(ErrorMessage,{error:new Error(\"Es ist kein Product ausgewählt.\"),show:true});}var nextStep=function nextStep(){setstep(step+1);console.log(\"nextStep \"+step);};var steps=[\"Adressdaten\",\"Bezahldaten\",\"Bestellung\",\"Zusammenfassung\"];return React.createElement(CheckOutFlow,{steps:steps},React.createElement(AddressEditor,{onDone:nextStep}),React.createElement(Payment,{onDone:nextStep}),React.createElement(CheckoutSummary,null));};","map":{"version":3,"sources":["/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/container/checkout/CheckoutContainer.tsx"],"names":["React","useContext","CheckoutContext","CheckOutFlow","CheckoutSummary","Payment","AddressEditor","CheckoutStepContext","useGetProductQuery","ErrorMessage","CheckOutContainer","props","step","setstep","setProduct","productId","product","variables","id","data","getProduct","Error","nextStep","console","log","steps"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAuD,OAAvD,CACA,OAASC,eAAT,KAAyD,+CAAzD,CACA,OAASC,YAAT,KAA6B,gBAA7B,CAEA,OAASC,eAAT,KAAgC,oCAAhC,CACA,OAASC,OAAT,KAAwB,0CAAxB,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,mBAAT,KAAiE,mDAAjE,CACA,OAASC,kBAAT,KAA4C,yBAA5C,CACA,OAASC,YAAT,KAA6B,oDAA7B,CAOA,MAAO,IAAMC,CAAAA,iBAAkC,CAAG,QAArCA,CAAAA,iBAAqC,CAACC,KAAD,CAAW,iBAEjCV,UAAU,CAACM,mBAAD,CAFuB,CAElDK,IAFkD,aAElDA,IAFkD,CAE5CC,OAF4C,aAE5CA,OAF4C,kBAGpCZ,UAAU,CAACC,eAAD,CAH0B,CAGlDY,UAHkD,cAGlDA,UAHkD,CAKzD,GAAMC,CAAAA,SAAS,CAAGJ,KAAK,CAACI,SAAxB,CAEA,GAAMC,CAAAA,OAAO,CAAGR,kBAAkB,CAAC,CAC3BS,SAAS,CAAE,CACPC,EAAE,CAAEH,SAAS,CAAGA,SAAH,CAAe,EADrB,CADgB,CAAD,CAAlC,CAMA,GAAGA,SAAS,EAAIC,OAAb,EAAwBA,OAAO,CAACG,IAAhC,EAAwCH,OAAO,CAACG,IAAR,CAAaC,UAAxD,CAAmE,CAC/DN,UAAU,CAACE,OAAO,CAACG,IAAR,CAAaC,UAAd,CAAV,CACH,CAFD,IAEO,CACH,MAAO,qBAAC,YAAD,EAAc,KAAK,CAAE,GAAIC,CAAAA,KAAJ,CAAU,iCAAV,CAArB,CAAmE,IAAI,CAAE,IAAzE,EAAP,CACH,CAGD,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBT,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACAW,OAAO,CAACC,GAAR,CAAY,YAAcZ,IAA1B,EACH,CAHD,CAKA,GAAMa,CAAAA,KAAK,CAAG,CACV,aADU,CAEV,aAFU,CAGV,YAHU,CAIV,iBAJU,CAAd,CAQD,MACK,qBAAC,YAAD,EAAc,KAAK,CAAEA,KAArB,EACI,oBAAC,aAAD,EAAe,MAAM,CAAEH,QAAvB,EADJ,CAEI,oBAAC,OAAD,EAAS,MAAM,CAAEA,QAAjB,EAFJ,CAGI,oBAAC,eAAD,MAHJ,CADL,CAOF,CAxCM","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { CheckoutContext, CheckoutContextProvider } from \"../../context/checkoutcontext/CheckoutContext\";\nimport { CheckOutFlow } from \"./CheckOutFlow\";\nimport { ProductOffers } from \"../productoffer/ProductOffers\";\nimport { CheckoutSummary } from \"../checkoutsummary/CheckoutSummary\";\nimport { Payment } from \"../../components/paymentformcard/Payment\";\nimport { AddressEditor } from \"../addresseditor\";\nimport { CheckoutStepContext, CheckoutStepContextProvider } from \"../../context/checkoutcontext/CheckoutStepContext\";\nimport { useGetProductQuery, Product } from \"../../generated/graphql\";\nimport { ErrorMessage } from \"../../pages/pageframe/global/Messages/ErrorMessage\";\n\n\ninterface Props {\n    productId: string | undefined | null\n}\n\nexport const CheckOutContainer: React.FC<Props> = (props) => {\n      \n    const {step, setstep} = useContext(CheckoutStepContext);    \n    const {setProduct} = useContext(CheckoutContext);\n\n    const productId = props.productId;\n\n    const product = useGetProductQuery({\n            variables: {\n                id: productId ? productId : \"\"\n            }\n        })\n\n    if(productId && product && product.data && product.data.getProduct){\n        setProduct(product.data.getProduct)\n    } else {\n        return <ErrorMessage error={new Error(\"Es ist kein Product ausgewählt.\")} show={true} />\n    }\n\n\n    const nextStep = () => {      \n        setstep(step + 1)\n        console.log(\"nextStep \" + step);\n    }\n\n    const steps = [\n        \"Adressdaten\",\n        \"Bezahldaten\",\n        \"Bestellung\",\n        \"Zusammenfassung\"\n    ]\n\n\n   return (      \n        <CheckOutFlow steps={steps}>\n            <AddressEditor onDone={nextStep}/>\n            <Payment onDone={nextStep}/>     \n            <CheckoutSummary />\n        </CheckOutFlow>\n    )\n}"]},"metadata":{},"sourceType":"module"}