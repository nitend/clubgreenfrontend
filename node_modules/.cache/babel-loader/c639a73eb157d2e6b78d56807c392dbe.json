{"ast":null,"code":"import _slicedToArray from\"/Users/SvenL/Projekte/node_projects/clubgruen/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{AppBar,Toolbar,IconButton,Button,makeStyles,Typography}from\"@material-ui/core\";import{UserMenu}from'./UserMenu';import{useMeQuery}from'../../../generated/graphql';export var Header=function Header(){var _data$me;var _useMeQuery=useMeQuery(),data=_useMeQuery.data;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),auth=_React$useState2[0],setAuth=_React$useState2[1];var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},title:{color:'white',flexGrow:1},button:{color:'white'}};});var classes=useStyles();var userId=data===null||data===void 0?void 0:(_data$me=data.me)===null||_data$me===void 0?void 0:_data$me.id;useEffect(function(){if(userId){setAuth(true);}},[userId]);var handleLoggedOut=function handleLoggedOut(){setAuth(false);};var loginMenu=function loginMenu(){if(auth){return React.createElement(UserMenu,{loggedOut:handleLoggedOut});}else{return React.createElement(\"div\",null,React.createElement(Button,{className:classes.button,href:\"/login\",color:\"inherit\"},\"Login\"),React.createElement(Button,{variant:\"outlined\",className:classes.button,href:\"/register\",color:\"inherit\"},\"Register\"));}};return React.createElement(\"header\",null,React.createElement(AppBar,{position:\"static\"},React.createElement(Toolbar,null,React.createElement(IconButton,{edge:\"start\",className:classes.menuButton,color:\"default\",\"aria-label\":\"menu\"},React.createElement(\"img\",{src:\"cg_header_logo.png\",alt:\"Logo\"})),React.createElement(Typography,{variant:\"h6\",className:classes.title}),loginMenu())));};","map":{"version":3,"sources":["/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/pageframe/header/Header.tsx"],"names":["React","useEffect","AppBar","Toolbar","IconButton","Button","makeStyles","Typography","UserMenu","useMeQuery","Header","data","useState","auth","setAuth","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","color","button","classes","userId","me","id","handleLoggedOut","loginMenu"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAAQC,MAAR,CAAgBC,OAAhB,CAAyBC,UAAzB,CAAqCC,MAArC,CAA6CC,UAA7C,CAAyDC,UAAzD,KAA2E,mBAA3E,CACA,OAAQC,QAAR,KAAuB,YAAvB,CACA,OAASC,UAAT,KAA2B,4BAA3B,CASA,MAAO,IAAMC,CAAAA,MAAuB,CAAG,QAA1BA,CAAAA,MAA0B,EAAM,8BAE1BD,UAAU,EAFgB,CAElCE,IAFkC,aAElCA,IAFkC,qBAGjBX,KAAK,CAACY,QAAN,CAAe,KAAf,CAHiB,oDAGlCC,IAHkC,qBAG5BC,OAH4B,qBAKzC,GAAMC,CAAAA,SAAS,CAAGT,UAAU,CAAC,SAAAU,KAAK,QAAK,CACrCC,IAAI,CAAE,CACJC,QAAQ,CAAE,CADN,CAD+B,CAIrCC,UAAU,CAAE,CACVC,WAAW,CAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,CADH,CAJyB,CAOrCC,KAAK,CAAE,CACLC,KAAK,CAAE,OADF,CAELL,QAAQ,CAAE,CAFL,CAP8B,CAWrCM,MAAM,CAAE,CACND,KAAK,CAAE,OADD,CAX6B,CAAL,EAAN,CAA5B,CAgBA,GAAME,CAAAA,OAAO,CAAGV,SAAS,EAAzB,CAEA,GAAIW,CAAAA,MAAM,CAAGf,IAAH,SAAGA,IAAH,2BAAGA,IAAI,CAAEgB,EAAT,mCAAG,SAAUC,EAAvB,CACA3B,SAAS,CAAC,UAAM,CACd,GAAGyB,MAAH,CAAU,CACRZ,OAAO,CAAC,IAAD,CAAP,CACD,CACF,CAJQ,CAIN,CAACY,MAAD,CAJM,CAAT,CAMA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1Bf,OAAO,CAAC,KAAD,CAAP,CACH,CAFD,CAIA,GAAMgB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAGjB,IAAH,CAAQ,CACN,MAAQ,qBAAC,QAAD,EAAU,SAAS,CAAEgB,eAArB,EAAR,CACD,CAFD,IAEO,CACL,MAAS,gCACP,oBAAC,MAAD,EAAQ,SAAS,CAAEJ,OAAO,CAACD,MAA3B,CAAmC,IAAI,CAAC,QAAxC,CAAiD,KAAK,CAAC,SAAvD,UADO,CAEP,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,SAAS,CAAEC,OAAO,CAACD,MAA9C,CAAsD,IAAI,CAAC,WAA3D,CAAuE,KAAK,CAAC,SAA7E,aAFO,CAAT,CAKD,CACF,CAVD,CAYA,MACE,mCACE,oBAAC,MAAD,EAAQ,QAAQ,CAAC,QAAjB,EACE,oBAAC,OAAD,MACE,oBAAC,UAAD,EAAY,IAAI,CAAC,OAAjB,CAAyB,SAAS,CAAEC,OAAO,CAACN,UAA5C,CAAwD,KAAK,CAAC,SAA9D,CAAwE,aAAW,MAAnF,EACM,2BAAK,GAAG,CAAC,oBAAT,CAA8B,GAAG,CAAC,MAAlC,EADN,CADF,CAIE,oBAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAEM,OAAO,CAACH,KAA5C,EAJF,CAOGQ,SAAS,EAPZ,CADF,CADF,CADF,CAeH,CA7DM","sourcesContent":["import React, { useEffect } from 'react'\n\nimport {AppBar, Toolbar, IconButton, Button, makeStyles, Typography } from \"@material-ui/core\"\nimport {UserMenu} from './UserMenu';\nimport { useMeQuery } from '../../../generated/graphql';\n\n\n\ninterface Props {\n    \n}\n\n\nexport const Header: React.FC<Props> = () => {\n    \n    const {data} = useMeQuery();\n    const [auth, setAuth] = React.useState(false);\n\n    const useStyles = makeStyles(theme => ({\n      root: {\n        flexGrow: 1,\n      },\n      menuButton: {\n        marginRight: theme.spacing(2),\n      },\n      title: {\n        color: 'white',\n        flexGrow: 1,\n      },\n      button: {\n        color: 'white'\n      }\n    }));\n\n    const classes = useStyles();\n\n    var userId = data?.me?.id;\n    useEffect(() => {\n      if(userId){\n        setAuth(true)\n      }\n    }, [userId])\n\n    const handleLoggedOut = () => {\n        setAuth(false)\n    }\n\n    const loginMenu = () => {\n      if(auth){       \n        return (<UserMenu loggedOut={handleLoggedOut}/>)\n      } else {\n        return ( <div>\n          <Button className={classes.button} href=\"/login\" color=\"inherit\">Login</Button>\n          <Button variant=\"outlined\" className={classes.button} href=\"/register\" color=\"inherit\">Register</Button> \n        </div>);\n\n      }\n    }\n   \n    return (\n      <header>\n        <AppBar position=\"static\">   \n          <Toolbar>        \n            <IconButton edge=\"start\" className={classes.menuButton} color=\"default\" aria-label=\"menu\">\n                  <img src=\"cg_header_logo.png\" alt=\"Logo\"/>\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              \n            </Typography>      \n            {loginMenu()}\n        </Toolbar>\n        </AppBar>\n      </header>\n        )\n}\n"]},"metadata":{},"sourceType":"module"}