{"ast":null,"code":"var _jsxFileName = \"/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/admin/products/ProductList.tsx\";\nimport React from 'react';\nimport { useProductsQuery, useDeleteProductMutation } from '../../../generated/graphql';\nimport { Container, Button } from '@material-ui/core';\nimport { LoadingAnimation } from '../../pageframe/global/Messages/LoadingAnimation';\nimport { ErrorMessage } from '../../pageframe/global/Messages/ErrorMessage';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { TableList } from '../lists/TableList';\nimport { ProductFields } from './ProductObject';\nexport const ProductList = props => {\n  const {\n    data,\n    loading,\n    error\n  } = useProductsQuery();\n  const [deleteProduct] = useDeleteProductMutation();\n  const {\n    path\n  } = useRouteMatch();\n  const history = useHistory();\n\n  if (loading) {\n    return React.createElement(LoadingAnimation, {\n      message: 'Daten werden geladen',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    });\n  }\n\n  if (error) {\n    return React.createElement(ErrorMessage, {\n      error: error,\n      show: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    });\n  }\n\n  const onProductEdit = entity => {\n    history.push(path + '/' + entity.id);\n    console.log(entity.id);\n  };\n\n  const onProductDelete = entity => {\n    const result = deleteProduct({\n      variables: {\n        id: entity.id\n      }\n    });\n    console.log(result);\n  };\n\n  const onNewPropertyClicked = () => {\n    onProductEdit(\"new\");\n  };\n\n  if (data && data.getAllProducts) {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(TableList, {\n      fields: ProductFields,\n      data: data.getAllProducts,\n      onDeleteClicked: onProductDelete,\n      onEditClicked: onProductEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: onNewPropertyClicked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Neues Product\"));\n  }\n\n  return React.createElement(LoadingAnimation, {\n    message: 'Daten werden geladen',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  });\n};","map":{"version":3,"sources":["/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/admin/products/ProductList.tsx"],"names":["React","useProductsQuery","useDeleteProductMutation","Container","Button","LoadingAnimation","ErrorMessage","useHistory","useRouteMatch","TableList","ProductFields","ProductList","props","data","loading","error","deleteProduct","path","history","onProductEdit","entity","push","id","console","log","onProductDelete","result","variables","onNewPropertyClicked","getAllProducts"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,EAA2BC,wBAA3B,QAA0D,4BAA1D;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,mBAAlC;AACA,SAASC,gBAAT,QAAiC,kDAAjC;AACA,SAASC,YAAT,QAA6B,8CAA7B;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,kBAA1C;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AAKA,OAAO,MAAMC,WAA4B,GAAIC,KAAD,IAAW;AAEnD,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA;AAAhB,MAAyBd,gBAAgB,EAA/C;AACA,QAAM,CAACe,aAAD,IAAkBd,wBAAwB,EAAhD;AACA,QAAM;AAACe,IAAAA;AAAD,MAAST,aAAa,EAA5B;AAEA,QAAMU,OAAO,GAAGX,UAAU,EAA1B;;AAGA,MAAGO,OAAH,EAAW;AACP,WACI,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE,sBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AAED,MAAGC,KAAH,EAAS;AACL,WACI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAEA,KAArB;AAA4B,MAAA,IAAI,EAAE,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AAED,QAAMI,aAAa,GAAIC,MAAD,IAAiB;AACnCF,IAAAA,OAAO,CAACG,IAAR,CAAcJ,IAAI,GAAG,GAAP,GAAaG,MAAM,CAACE,EAAlC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACE,EAAnB;AACH,GAHD;;AAKA,QAAMG,eAAe,GAAIL,MAAD,IAAiB;AACrC,UAAMM,MAAM,GAAGV,aAAa,CACxB;AACIW,MAAAA,SAAS,EAAE;AACPL,QAAAA,EAAE,EAAEF,MAAM,CAACE;AADJ;AADf,KADwB,CAA5B;AAOAC,IAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ;AACH,GATD;;AAWA,QAAME,oBAAoB,GAAG,MAAM;AAC/BT,IAAAA,aAAa,CAAC,KAAD,CAAb;AACH,GAFD;;AAIA,MAAGN,IAAI,IAAIA,IAAI,CAACgB,cAAhB,EAA+B;AAC3B,WACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AACI,MAAA,MAAM,EAAEnB,aADZ;AAEI,MAAA,IAAI,EAAEG,IAAI,CAACgB,cAFf;AAGI,MAAA,eAAe,EAAEJ,eAHrB;AAII,MAAA,aAAa,EAAEN,aAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAMI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAES,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANJ,CADJ;AAWH;;AAED,SACI,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAE,sBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAGH,CA1DM","sourcesContent":["import React from 'react'\nimport { useProductsQuery, useDeleteProductMutation} from '../../../generated/graphql'\nimport { Container, Button } from '@material-ui/core';\nimport { LoadingAnimation } from '../../pageframe/global/Messages/LoadingAnimation';\nimport { ErrorMessage } from '../../pageframe/global/Messages/ErrorMessage';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { TableList } from '../lists/TableList';\nimport { ProductFields } from './ProductObject';\n\ninterface Props {\n}\n\nexport const ProductList: React.FC<Props> = (props) => {\n\n    const {data, loading, error} = useProductsQuery();\n    const [deleteProduct] = useDeleteProductMutation()\n    const {path} = useRouteMatch();\n\n    const history = useHistory();\n\n\n    if(loading){\n        return (\n            <LoadingAnimation message={'Daten werden geladen'}/>\n        )\n    }\n\n    if(error){\n        return (\n            <ErrorMessage error={error} show={true}/>\n        )\n    }\n\n    const onProductEdit = (entity: any) => {\n        history.push( path + '/' + entity.id);\n        console.log(entity.id)\n    }\n\n    const onProductDelete = (entity: any) => {\n        const result = deleteProduct(\n            {\n                variables: {\n                    id: entity.id\n                }\n            }\n        )\n        console.log(result)\n    }\n\n    const onNewPropertyClicked = () => {\n        onProductEdit(\"new\");\n    } \n\n    if(data && data.getAllProducts){\n        return(\n            <Container>\n                <TableList \n                    fields={ProductFields} \n                    data={data.getAllProducts}\n                    onDeleteClicked={onProductDelete}\n                    onEditClicked={onProductEdit}></TableList>  \n                <Button onClick={onNewPropertyClicked}>Neues Product</Button>\n        </Container> \n        )\n\n    }\n\n    return (\n        <LoadingAnimation message={'Daten werden geladen'}/>  \n    )\n}"]},"metadata":{},"sourceType":"module"}