{"ast":null,"code":"var _jsxFileName = \"/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/pageframe/global/user/LoginForm.tsx\";\nimport React from \"react\";\nimport { useLoginMutation, MeDocument } from \"../../../../generated/graphql\";\nimport { setAccessToken } from \"../../../../accessToken\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nexport const LoginForm = () => {\n  const [Login] = useLoginMutation();\n\n  const loginFunc = async values => {\n    const response = await Login({\n      variables: {\n        email: values.email,\n        password: values.password\n      },\n      update: (store, {\n        data\n      }) => {\n        if (!data) {\n          return null;\n        }\n\n        store.writeQuery({\n          query: MeDocument,\n          data: {\n            me: data.login.user\n          }\n        });\n      }\n    });\n\n    if (response && response.data) {\n      setAccessToken(response.data.login.accessToken);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      width: '200px',\n      margin: 'auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    onSubmit: loginFunc,\n    validationSchema: Yup.object().shape({\n      email: Yup.string().email().required(\"Required\")\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, props => {\n    const {\n      values,\n      touched,\n      errors,\n      handleChange,\n      handleBlur,\n      handleSubmit\n    } = props;\n    return React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: errors.email && touched.email ? true : false,\n      fullWidth: true,\n      id: \"email\",\n      label: \"Email\",\n      value: values.email,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      fullWidth: true,\n      id: \"password\",\n      label: \"Passwort\",\n      type: \"password\",\n      value: values.password,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"outlined\",\n      style: {\n        margin: 'auto',\n        display: 'block',\n        marginTop: '24px'\n      },\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"anmelden\"));\n  }));\n};","map":{"version":3,"sources":["/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/pageframe/global/user/LoginForm.tsx"],"names":["React","useLoginMutation","MeDocument","setAccessToken","TextField","Button","Formik","Yup","LoginForm","Login","loginFunc","values","response","variables","email","password","update","store","data","writeQuery","query","me","login","user","accessToken","width","margin","object","shape","string","required","props","touched","errors","handleChange","handleBlur","handleSubmit","display","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useLoginMutation, MeDocument, MeQuery } from \"../../../../generated/graphql\";\nimport { setAccessToken } from \"../../../../accessToken\";\nimport { TextField, Button} from \"@material-ui/core\";\nimport {Formik} from 'formik'\nimport * as Yup from 'yup'\n\ninterface Props {\n\n}\n\nexport const LoginForm: React.FC<Props> = () => {\n\n    const [Login] = useLoginMutation()\n\n    const loginFunc = async (values: {email: string, password: string}) => {\n        const response = await Login({\n            variables: {\n                email: values.email, \n                password: values.password\n            },\n            update: (store, {data}) => {\n                if(!data){\n                    return null;\n                }\n                store.writeQuery<MeQuery>({\n                    query: MeDocument,\n                    data: {\n                        me: data.login.user\n                    }\n                })  \n            }\n        })\n        if(response && response.data){\n            setAccessToken(response.data.login.accessToken)\n        }\n    }\n\n    return (\n        <div style={{width: '200px', margin: 'auto'}}>\n            <Formik initialValues={{\n                email: \"\",\n                password: \"\"\n            }} \n            onSubmit={loginFunc}\n            validationSchema={Yup.object().shape({\n                email: Yup.string()\n                  .email()\n                  .required(\"Required\")\n              })} >\n                {props => {\n                const {\n                values,\n                touched,\n                errors,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                } = props;\n                return (\n                    <form onSubmit={handleSubmit}>\n                            <TextField \n                                error={errors.email && touched.email\n                                    ? true\n                                    : false\n                                }\n                                fullWidth={true}\n                                id=\"email\" \n                                label=\"Email\"\n                                value={values.email} \n                                onChange={handleChange} \n                                onBlur={handleBlur}\n                            />\n                            <TextField \n                                fullWidth={true}\n                                id=\"password\" \n                                label=\"Passwort\"\n                                type=\"password\"\n                                value={values.password} \n                                onChange={handleChange}\n                                onBlur={handleBlur}\n\n                            />\n                       \n                            <Button variant={\"outlined\"} style={{margin: 'auto', display: 'block', marginTop: '24px'}} type=\"submit\">anmelden</Button>\n                           \n                    </form>);\n            }}\n            </Formik>\n            </div>)\n};"]},"metadata":{},"sourceType":"module"}