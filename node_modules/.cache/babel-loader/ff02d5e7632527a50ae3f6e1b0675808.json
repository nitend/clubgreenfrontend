{"ast":null,"code":"var _jsxFileName = \"/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/Header.tsx\";\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useMeQuery, useLogoutMutation } from '../generated/graphql';\nimport { setAccessToken } from '../accessToken';\nimport { AppBar, Toolbar, IconButton, Grid, Button } from \"@material-ui/core\";\nexport const Header = () => {\n  const {\n    data,\n    loading\n  } = useMeQuery({\n    fetchPolicy: \"network-only\"\n  });\n  const [logout, {\n    client\n  }] = useLogoutMutation();\n  console.log(data);\n  let history = useHistory();\n  let body = null;\n\n  if (loading) {\n    body = null;\n  } else if (data && data.me) {\n    body = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, data.me.email, React.createElement(Button, {\n      color: \"inherit\",\n      onClick: async () => {\n        history.push(\"/\");\n        await logout();\n        setAccessToken(\"\");\n        await client.resetStore();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"logout\"));\n  } else {\n    body = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: \"/login\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Button, {\n      href: \"/register\",\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"Register\"));\n  }\n\n  return React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"fixed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    position: \"fixed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    justify: \"space-between\" // Add it here :)\n    ,\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    href: \"/\",\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Club Gr\\xFCn\")), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, body)))));\n};","map":{"version":3,"sources":["/Users/SvenL/Projekte/node_projects/clubgruen/frontend/src/pages/Header.tsx"],"names":["React","useHistory","useMeQuery","useLogoutMutation","setAccessToken","AppBar","Toolbar","IconButton","Grid","Button","Header","data","loading","fetchPolicy","logout","client","console","log","history","body","me","email","push","resetStore"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAASC,UAAT,EAAqBC,iBAArB,QAA8C,sBAA9C;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAAQC,MAAR,EAAgBC,OAAhB,EAAyBC,UAAzB,EAAqCC,IAArC,EAA2CC,MAA3C,QAAwD,mBAAxD;AAMA,OAAO,MAAMC,MAAuB,GAAG,MAAM;AACzC,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAkBV,UAAU,CAAC;AAACW,IAAAA,WAAW,EAAE;AAAd,GAAD,CAAlC;AACA,QAAM,CAACC,MAAD,EAAS;AAACC,IAAAA;AAAD,GAAT,IAAqBZ,iBAAiB,EAA5C;AAEAa,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AAEA,MAAIO,OAAO,GAAGjB,UAAU,EAAxB;AAEA,MAAIkB,IAAS,GAAG,IAAhB;;AACA,MAAGP,OAAH,EAAW;AACPO,IAAAA,IAAI,GAAG,IAAP;AACH,GAFD,MAEO,IAAGR,IAAI,IAAIA,IAAI,CAACS,EAAhB,EAAoB;AACzBD,IAAAA,IAAI,GAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMR,IAAI,CAACS,EAAL,CAAQC,KAAd,EACN,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAE,YAAW;AAC1CH,QAAAA,OAAO,CAACI,IAAR,CAAa,GAAb;AACA,cAAMR,MAAM,EAAZ;AACAV,QAAAA,cAAc,CAAC,EAAD,CAAd;AACA,cAAMW,MAAM,CAAEQ,UAAR,EAAN;AAED,OAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADM,CAAR;AASD,GAVM,MAUA;AACHJ,IAAAA,IAAI,GAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACP,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADO,EAEP,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,WAAb;AAAyB,MAAA,KAAK,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFO,CAAT;AAIH;;AACD,SAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AACE,IAAA,OAAO,EAAC,eADV,CAC0B;AAD1B;AAEE,IAAA,SAAS,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIA,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAC,GAAjB;AAAqB,IAAA,IAAI,EAAC,OAA1B;AAAkC,IAAA,KAAK,EAAC,SAAxC;AAAkD,kBAAW,MAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CAJA,EAUA,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,IADL,CAVA,CADJ,CADF,CADF,CAFA;AAuBH,CAlDM","sourcesContent":["import React from 'react'\nimport {useHistory} from 'react-router-dom'\nimport { useMeQuery, useLogoutMutation } from '../generated/graphql'\nimport { setAccessToken } from '../accessToken'\nimport {AppBar, Toolbar, IconButton, Grid, Button} from \"@material-ui/core\"\n\ninterface Props {\n    \n}\n\nexport const Header: React.FC<Props> = () => {\n    const {data, loading} = useMeQuery({fetchPolicy: \"network-only\"})\n    const [logout, {client}] = useLogoutMutation();\n\n    console.log(data)\n\n    let history = useHistory();\n\n    let body: any = null;\n    if(loading){\n        body = null;\n    } else if(data && data.me) {\n      body = (<div>{data.me.email}\n        <Button color=\"inherit\" onClick={async () =>{\n          history.push(\"/\")\n          await logout();\n          setAccessToken(\"\");\n          await client!.resetStore();         \n         \n        }}>logout</Button>\n      </div>)\n    } else {\n        body = ( <div>\n          <Button href=\"/login\" color=\"inherit\">Login</Button>\n          <Button href=\"/register\" color=\"inherit\">Register</Button> \n        </div>);\n    }\n    return (\n\n    <header> \n      <AppBar position=\"fixed\">   \n        <Toolbar position=\"fixed\">\n            <Grid\n              justify=\"space-between\" // Add it here :)\n              container\n            >\n            <Grid item>\n              <IconButton href=\"/\" edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n              Club Gr√ºn\n              </IconButton>\n            </Grid>\n\n            <Grid item>\n                {body}\n            </Grid>\n        </Grid>\n      </Toolbar>\n      </AppBar> \n    </header>\n        )\n}\n"]},"metadata":{},"sourceType":"module"}